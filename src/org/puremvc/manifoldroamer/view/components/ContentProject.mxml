<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:view="org.puremvc.manifoldroamer.view.components.*"
	width="100%" height="100%" horizontalAlign="center"
	verticalAlign="middle" paddingTop="20"  paddingBottom="20" 
	paddingLeft="20" paddingRight="20">
	
	<mx:Metadata>
		[Event(name="readURL", type="flash.events.Event")]
	</mx:Metadata>

	<mx:Script>
		<![CDATA[
			import org.puremvc.manifoldroamer.model.vo.ProjectVO;
			[Bindable] public var nodeData:ProjectVO;
			[Bindable] public var targetURL:String;

			public function readURL(url:String):void
			{
				targetURL=url;
				dispatchEvent( new Event('readURL',true) );
			}
			
			private function setStackHeight():void
			{
				var h:int = parent.height;
				if (detailStack.selectedIndex == 0) h = txtDesc.height;
				if (detailStack.selectedIndex == 1) h = txtRelease.height;
				if (detailStack.selectedIndex == 2) h = txtInstall.height;
				detailStack.height = h;	
			}
						
		]]>
	</mx:Script>
	
	<!-- PROJECT CONTENT -->
	<mx:HBox width="80%">

		<mx:VBox horizontalAlign="right" width="50%" >
			
			<!-- PROJECT -->
			<mx:HBox verticalAlign="middle">
				<mx:Label fontFamily="BlueHighway" color="#0000FF" fontSize="24" text="PROJECT"/>
			</mx:HBox>
			<mx:Label fontFamily="BlueHighway" fontSize="24" text="{nodeData.name}"/>

			<!-- BUTTONS -->
			<mx:HBox verticalAlign="middle">
				<mx:Button label="Discuss" click="readURL(nodeData.forum)"/>
				<mx:Button label="Repository" click="readURL(nodeData.tag)"/>
				<mx:Button label="Download" click="readURL(nodeData.archive)"/>
			</mx:HBox>
			<mx:HBox verticalAlign="middle">
				<mx:Button label="Source" click="readURL(nodeData.srcview)" visible="{nodeData.srcview!=''}"/>
				<mx:Button label="Demo" click="readURL(nodeData.live)" visible="{nodeData.live!=''}"/>
				<mx:Button label="Docs" click="readURL(nodeData.docs)" visible="{nodeData.docs!=''}"/>
			</mx:HBox>
	
			<!-- PROJECT OWNER -->
			<mx:VBox horizontalAlign="right">
				<mx:Label fontFamily="BlueHighway" color="#0000FF" fontSize="24" text="PROJECT OWNER"/>
				<mx:Label fontFamily="BlueHighway" fontSize="24" text="{nodeData.owner}"/>
			</mx:VBox>

			<mx:HBox verticalAlign="middle">

				<!-- VERSION-->
				<mx:VBox horizontalAlign="right">
					<mx:Label fontFamily="BlueHighway" color="#0000FF" fontSize="20" text="VERSION"/>
					<mx:Label fontFamily="BlueHighway" fontSize="16" text="{nodeData.version}"/>
				</mx:VBox>
	
				<!-- STATUS-->
				<mx:VBox horizontalAlign="right">
					<mx:Label fontFamily="BlueHighway" color="#0000FF" fontSize="20" text="STATUS"/>
					<mx:Label fontFamily="BlueHighway" fontSize="16" text="{nodeData.status}"/>
				</mx:VBox>
		
			</mx:HBox>

		</mx:VBox>

		<!-- PIC -->
		<view:SmoothImage id="pic" source="{nodeData.pic}" width="50%" maintainAspectRatio="true" />

	</mx:HBox>	
	<mx:HRule width="50%"/>
	<mx:ToggleButtonBar dataProvider="{detailStack}"/>
	<mx:ViewStack id="detailStack" width="65%" creationPolicy="all" change="setStackHeight()">
		<mx:VBox label="Description">
			<mx:Text id="txtDesc" width="100%" textAlign="left" fontFamily="BlueHighway" fontSize="20" htmlText="{nodeData.description}" resize="setStackHeight()"/>
		</mx:VBox>
		<mx:VBox label="Release Notes">
			<mx:Text id="txtRelease" width="100%" textAlign="left" fontFamily="Arial" fontSize="16" htmlText="{nodeData.release_notes}" resize="setStackHeight()"/>
		</mx:VBox>
		<mx:VBox label="Installation">
			<mx:Text id="txtInstall" width="100%" textAlign="left" fontFamily="Arial" fontSize="16" htmlText="{nodeData.installation}" resize="setStackHeight()"/>
		</mx:VBox>
	</mx:ViewStack>


	
</mx:VBox>
